

<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="utf-8">
  <title>Scripting – Typstドキュメント日本語版</title>
  <meta name="description" content="Automate your document with Typst's scripting capabilities.">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta name="theme-color" content="#239dad">
  <meta property="og:url" content="https://typst-doc-cn.github.io/docs/reference/scripting/">
  <meta property="og:title" content="Scripting – Typstドキュメント日本語版">
  <meta property="og:site_name" content="Typst">
  <meta property="og:description" content="Automate your document with Typst's scripting capabilities.">
  <meta property="og:type">
  <meta property="og:image" content="https://typst-doc-cn.github.io/assets/social.png">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">
  <meta name="twitter:site" content="@typstapp">
  <meta name="twitter:card" content="summary_large_image">
  <link rel="canonical" href="https://typst-doc-cn.github.io/docs/reference/scripting/">
  <meta name="twitter:image:alt"
    content="The left side of a text editor with colorful cursors, as well as the text &#x27;Compose papers faster, Typst&#x27;">
  <link rel="icon" type="image/png" sizes="32x32" href="/assets/favicon.ico">
  <!-- <link rel="icon" type="image/png" sizes="16x16" href="/assets/favicon.ico"> -->
  <link rel="apple-touch-icon" sizes="180x180" href="/assets/apple-touch-icon.png">
  <link rel="mask-icon" href="/assets/safari-pinned-tab.svg" color="#239dad">
  <link rel="manifest" href="/assets/site.webmanifest">
  <link rel="stylesheet" href="/styles/default.css?bust=20230913?d=2023-09-16">
  <link rel="stylesheet" href="/styles/docs.css?bust=20230915?d=2023-09-16">
  <link rel="stylesheet" href="/styles/docs-cn.css">
  <link rel="preload" href="/assets/fonts/HKGrotesk-Regular.woff2" as="font">
  <link rel="preload" href="/assets/fonts/HKGrotesk-Bold.woff2" as="font">
  <link rel="preload" href="/assets/fonts/HKGrotesk-SemiBold.woff2" as="font">
  <link rel="preload" href="/assets/fonts/CascadiaMono-Regular-Sub.woff2" as="font">
  <link rel="preload" href="/assets/images/blur.webp" as="image">
  
  <script>document.documentElement.className = document.documentElement.className.replace("no-js", "js"), document.addEventListener("DOMContentLoaded", (() => { const e = document.cookie.split("; ").find((e => e.startsWith("INSECURE_SIGNED_IN=")))?.split("=")[1].toLowerCase(); if ("1" === e || "true" === e || "yes" === e) { document.documentElement.classList.add("signed-in"); const e = document.querySelector("header nav a.nav-btn"), t = document.querySelector("header nav a.sign-in"); e && (e.innerHTML = "Go to app", e.setAttribute("href", "/app/")), t && (t.innerHTML = "Sign out", t.setAttribute("href", "https://api.typst.app/v1/auth/logout")) } }))</script>
</head>

<body class="no-js docs has-outline">
  <div class="alert">
    <div class="alert-content">
      <span>⚠ <b>注意</b>  当サイトは、<a href="https://typst.app/docs/">Typst v0.11.0 公式ドキュメント</a>を、日本語コミュニティが非公式に翻訳したものです。誤訳・未訳・古い情報が含まれている可能性があるため、<a href="https://typst.app/docs/">公式ドキュメント</a> との併用を推奨します。このサイトの内容に誤りを発見された方は、<a href="https://github.com/typst-jp/typst-jp.github.io">GitHubリポジトリまでご報告を頂けましたら幸いです</a>。我々のコミュニティにご興味のある方は、ぜひ<a href="https://discord.gg/9xF7k4aAuH">非公式Discordサーバー「くみはんクラブ」</a>にご参加ください。</span>
      <br />
      <span>⚠ <b>Warning:</b>   This site provides an unofficial translation of the <a href="https://typst.app/docs/">Typst v0.11.0 documentation</a> by the Japanese Community. Please note that there may be some inaccuracies, untranslated sections or outdated information. We highly recommend referring to <a href="https://typst.app/docs/">the latest official documentation</a> as well. If you find any errors in the content, <a href="https://github.com/typst-jp/typst-jp.github.io">please let us know through our GitHub repository.</a> If you are interested in our community, feel free to join <a href="https://discord.gg/9xF7k4aAuH">our unofficial Discord server, “Kumihan Club.”</a></span>
    </div>
  </div>
  <header class="boring">
    <div><a href="/docs" class="logo-box"><svg width="91" height="35" viewBox="0 0 91 35" role="img"
          aria-labelledby="logo-label">
          <title id="logo-label">Typst</title>
          <use href="/assets/images/typst.svg#logo"></use>
        </svg><span>ドキュメント日本語版</span></a><button class="hamburger"><img alt="Open navigation"
          src="/assets/icons/16-hamburger-dark.svg" width="16" height="16"></button>
      <nav>
        <ul>
          <li class="social"><a href="https://x.com/mkpoli/status/1802227029447725538" title="関連ツイート"><svg width="16" height="16" role="img"
                aria-labelledby="svg-twitter-label">
                <title id="svg-twitter-label">Twitter</title>
                <use href="/assets/icons/social.svg#twitter"></use>
              </svg></a></li>
          <li class="social"><a href="https://discord.gg/9xF7k4aAuH" title="「くみはんクラブ」Discordサーバー"><svg width="16" height="16" role="img"
                aria-labelledby="svg-discord-label">
                <title id="svg-discord-label">Discord</title>
                <use href="/assets/icons/social.svg#discord"></use>
              </svg></a></li>
          <li class="social"><a href="https://github.com/typst-jp/typst-jp.github.io" title="本プロジェクトのGitHubレポジトリ"><svg width="16" height="16" role="img"
                aria-labelledby="svg-github-label">
                <title id="svg-github-label">GitHub</title>
                <use href="/assets/icons/social.svg#github"></use>
              </svg></a></li>
          <li class="secondary"><a href="https://typst.app/">Typst公式サイト</a></li>
          <li class="secondary"><a href="https://typst.app/docs/">Typst公式ドキュメント</a></li>
          <!-- <li class="secondary"><a href="/signin/" class="sign-in">Sign in</a></li>
          <li><a href="/signup" id="header-btn" class="nav-btn btn">Sign up</a></li> -->
        </ul>
      </nav>
    </div>
  </header>
  <div class="main-grid">
    <nav class="folding"><a href="/docs" class="title-row"><svg width="91" height="35" viewBox="0 0 91 35" role="img"
          aria-labelledby="logo-label-nav">
          <title id="logo-label-nav">Typst</title>
          <use href="/assets/images/typst.svg#logo"></use>
        </svg><span>ドキュメント日本語版</span></a>
      <button class="close"><img alt="Close" src="/assets/icons/16-close-dark.svg"
          width="16" height="16"></button>
      <div class="search"><img src="/assets/icons/16-search-gray.svg" alt="Search" width="16" height="16"><input
          type="search" placeholder="検索" id="docs-search"></div>
      <ul class="search-results hidden" id="search-results"></ul>
      <ul>
        
        
        <li>
          <a href="/docs/" >Typstについて</a>
          
        </li>
        
        
        <li>
          <a href="/docs/tutorial/" >チュートリアル</a>
          
          <button><img alt="Expand" src="/assets/icons/16-arrow-right.svg" width="16" height="16"></button>
          <ul>
            
            
            <li>
              <a href="/docs/tutorial/writing-in-typst/" >Typstで執筆するには</a>
              
            </li>
            
            
            <li>
              <a href="/docs/tutorial/formatting/" >書式を設定する</a>
              
            </li>
            
            
            <li>
              <a href="/docs/tutorial/advanced-styling/" >高度なスタイリング</a>
              
            </li>
            
            
            <li>
              <a href="/docs/tutorial/making-a-template/" >テンプレートを作成する</a>
              
            </li>
            
          </ul>
          
        </li>
        
        
        <li>
          <a href="/docs/japanese/" >日本語ユーザーガイド</a>
          
        </li>
        
        
        <li>
          <a href="/docs/reference/" >リファレンス</a>
          
          <button><img alt="Expand" src="/assets/icons/16-arrow-right.svg" width="16" height="16"></button>
          <ul>
            
            
            
            <li class="category">Language</li>
            
            <li>
              <a href="/docs/reference/syntax/" >構文</a>
              
            </li>
            
            
            <li>
              <a href="/docs/reference/styling/" >Styling</a>
              
            </li>
            
            
            <li>
              <a href="/docs/reference/scripting/"  aria-current="page" >Scripting</a>
              
            </li>
            
            
            <li>
              <a href="/docs/reference/context/" >コンテキスト</a>
              
            </li>
            
            
            
            
            <li>
              <a href="/docs/reference/types/" >类型（旧）</a>
              
              <button><img alt="Expand" src="/assets/icons/16-arrow-right.svg" width="16" height="16"></button>
              <ul>
                
                
                <li><a href="/docs/reference/types/none/" >None</a></li>
                
                
                <li><a href="/docs/reference/types/auto/" >Auto</a></li>
                
                
                <li><a href="/docs/reference/types/boolean/" >Boolean</a></li>
                
                
                <li><a href="/docs/reference/types/integer/" >Integer</a></li>
                
                
                <li><a href="/docs/reference/types/float/" >Float</a></li>
                
                
                <li><a href="/docs/reference/types/length/" >Length</a></li>
                
                
                <li><a href="/docs/reference/types/angle/" >Angle</a></li>
                
                
                <li><a href="/docs/reference/types/ratio/" >Ratio</a></li>
                
                
                <li><a href="/docs/reference/types/relative-length/" >Relative Length</a></li>
                
                
                <li><a href="/docs/reference/types/fraction/" >Fraction</a></li>
                
                
                <li><a href="/docs/reference/types/color/" >Color</a></li>
                
                
                <li><a href="/docs/reference/types/datetime/" >Datetime</a></li>
                
                
                <li><a href="/docs/reference/types/symbol/" >Symbol</a></li>
                
                
                <li><a href="/docs/reference/types/string/" >String</a></li>
                
                
                <li><a href="/docs/reference/types/content/" >Content</a></li>
                
                
                <li><a href="/docs/reference/types/array/" >Array</a></li>
                
                
                <li><a href="/docs/reference/types/dictionary/" >Dictionary</a></li>
                
                
                <li><a href="/docs/reference/types/function/" >Function</a></li>
                
                
                <li><a href="/docs/reference/types/arguments/" >Arguments</a></li>
                
                
                <li><a href="/docs/reference/types/selector/" >Selector</a></li>
                
                
                <li><a href="/docs/reference/types/module/" >Module</a></li>
                
              </ul>
              
            </li>

            
            <li class="category">Library</li>
            
            <li>
              <a href="/docs/reference/foundations/" >基础</a>
              
              <button><img alt="Expand" src="/assets/icons/16-arrow-right.svg" width="16" height="16"></button>
              <ul>
                
                
                <li><a href="/docs/reference/foundations/arguments/" >Arguments</a></li>
                
                
                <li><a href="/docs/reference/foundations/array/" >Array</a></li>
                
                
                <li><a href="/docs/reference/foundations/assert/" >Assert</a></li>
                
                
                <li><a href="/docs/reference/foundations/bool/" >Boolean</a></li>
                
                
                <li><a href="/docs/reference/foundations/bytes/" >Bytes</a></li>
                
                
                <li><a href="/docs/reference/foundations/content/" >Content</a></li>
                
                
                <li><a href="/docs/reference/foundations/datetime/" >Datetime</a></li>
                
                
                <li><a href="/docs/reference/foundations/dictionary/" >Dictionary</a></li>
                
                
                <li><a href="/docs/reference/foundations/duration/" >Duration</a></li>
                
                
                <li><a href="/docs/reference/foundations/eval/" >Evaluate</a></li>
                
                
                <li><a href="/docs/reference/foundations/float/" >Float</a></li>
                
                
                <li><a href="/docs/reference/foundations/function/" >Function</a></li>
                
                
                <li><a href="/docs/reference/foundations/int/" >Integer</a></li>
                
                
                <li><a href="/docs/reference/foundations/label/" >Label</a></li>
                
                
                <li><a href="/docs/reference/foundations/module/" >Module</a></li>
                
                
                <li><a href="/docs/reference/foundations/panic/" >Panic</a></li>
                
                
                <li><a href="/docs/reference/foundations/plugin/" >Plugin</a></li>
                
                
                <li><a href="/docs/reference/foundations/regex/" >Regex</a></li>
                
                
                <li><a href="/docs/reference/foundations/repr/" >Representation</a></li>
                
                
                <li><a href="/docs/reference/foundations/selector/" >Selector</a></li>
                
                
                <li><a href="/docs/reference/foundations/str/" >String</a></li>
                
                
                <li><a href="/docs/reference/foundations/style/" >Style</a></li>
                
                
                <li><a href="/docs/reference/foundations/type/" >Type</a></li>
                
                
                <li><a href="/docs/reference/foundations/version/" >Version</a></li>
                
                
                <li><a href="/docs/reference/foundations/sys" >System</a></li>
                
                
                <li><a href="/docs/reference/foundations/calc" >Calculation</a></li>
                
              </ul>
              
            </li>
            
            
            <li>
              <a href="/docs/reference/model/" >模型</a>
              
              <button><img alt="Expand" src="/assets/icons/16-arrow-right.svg" width="16" height="16"></button>
              <ul>
                
                
                <li><a href="/docs/reference/model/bibliography/" >参考文献</a></li>
                
                
                <li><a href="/docs/reference/model/list/" >Bullet List</a></li>
                
                
                <li><a href="/docs/reference/model/cite/" >引用</a></li>
                
                
                <li><a href="/docs/reference/model/document/" >文档</a></li>
                
                
                <li><a href="/docs/reference/model/emph/" >强调（斜体）</a></li>
                
                
                <li><a href="/docs/reference/model/figure/" >图表</a></li>
                
                
                <li><a href="/docs/reference/model/footnote/" >脚注</a></li>
                
                
                <li><a href="/docs/reference/model/heading/" >Heading</a></li>
                
                
                <li><a href="/docs/reference/model/link/" >Link</a></li>
                
                
                <li><a href="/docs/reference/model/enum/" >有序列表</a></li>
                
                
                <li><a href="/docs/reference/model/numbering/" >Numbering</a></li>
                
                
                <li><a href="/docs/reference/model/outline/" >Outline</a></li>
                
                
                <li><a href="/docs/reference/model/par/" >Paragraph</a></li>
                
                
                <li><a href="/docs/reference/model/parbreak/" >Paragraph Break</a></li>
                
                
                <li><a href="/docs/reference/model/quote/" >Quote</a></li>
                
                
                <li><a href="/docs/reference/model/ref/" >Reference</a></li>
                
                
                <li><a href="/docs/reference/model/strong/" >着重强调（加粗）</a></li>
                
                
                <li><a href="/docs/reference/model/table/" >Table</a></li>
                
                
                <li><a href="/docs/reference/model/terms/" >Term List</a></li>
                
              </ul>
              
            </li>
            
            
            <li>
              <a href="/docs/reference/text/" >文本</a>
              
              <button><img alt="Expand" src="/assets/icons/16-arrow-right.svg" width="16" height="16"></button>
              <ul>
                
                
                <li><a href="/docs/reference/text/highlight/" >文本高亮</a></li>
                
                
                <li><a href="/docs/reference/text/linebreak/" >换行</a></li>
                
                
                <li><a href="/docs/reference/text/lorem/" >假文</a></li>
                
                
                <li><a href="/docs/reference/text/lower/" >转小写</a></li>
                
                
                <li><a href="/docs/reference/text/overline/" >上划线</a></li>
                
                
                <li><a href="/docs/reference/text/raw/" >原始文本/代码块</a></li>
                
                
                <li><a href="/docs/reference/text/smallcaps/" >显示为小写</a></li>
                
                
                <li><a href="/docs/reference/text/smartquote/" >智能引号</a></li>
                
                
                <li><a href="/docs/reference/text/strike/" >删除线</a></li>
                
                
                <li><a href="/docs/reference/text/sub/" >下标</a></li>
                
                
                <li><a href="/docs/reference/text/super/" >上标</a></li>
                
                
                <li><a href="/docs/reference/text/text/" >文本</a></li>
                
                
                <li><a href="/docs/reference/text/underline/" >下划线</a></li>
                
                
                <li><a href="/docs/reference/text/upper/" >转大写</a></li>
                
              </ul>
              
            </li>
            
            
            <li>
              <a href="/docs/reference/math/" >数学</a>
              
              <button><img alt="Expand" src="/assets/icons/16-arrow-right.svg" width="16" height="16"></button>
              <ul>
                
                
                <li><a href="/docs/reference/math/accent/" >重音符号</a></li>
                
                
                <li><a href="/docs/reference/math/cancel/" >删除线</a></li>
                
                
                <li><a href="/docs/reference/math/cases/" >左大括号</a></li>
                
                
                <li><a href="/docs/reference/math/class/" >类</a></li>
                
                
                <li><a href="/docs/reference/math/equation/" >数学表达式</a></li>
                
                
                <li><a href="/docs/reference/math/frac/" >分数</a></li>
                
                
                <li><a href="/docs/reference/math/mat/" >矩阵</a></li>
                
                
                <li><a href="/docs/reference/math/op/" >文本运算符</a></li>
                
                
                <li><a href="/docs/reference/math/vec/" >向量</a></li>
                
                
                <li><a href="/docs/reference/math/underover" >上/下方内容</a></li>
                
                
                <li><a href="/docs/reference/math/variants" >字体变体</a></li>
                
                
                <li><a href="/docs/reference/math/sizes" >显示尺寸</a></li>
                
                
                <li><a href="/docs/reference/math/lr" >Left/Right</a></li>
                
                
                <li><a href="/docs/reference/math/styles" >显示样式</a></li>
                
                
                <li><a href="/docs/reference/math/roots" >根式</a></li>
                
                
                <li><a href="/docs/reference/math/attach" >附缀</a></li>
                
              </ul>
              
            </li>
            
            
            <li>
              <a href="/docs/reference/symbols/" >符号</a>
              
              <button><img alt="Expand" src="/assets/icons/16-arrow-right.svg" width="16" height="16"></button>
              <ul>
                
                
                <li><a href="/docs/reference/symbols/sym/" >通用</a></li>
                
                
                <li><a href="/docs/reference/symbols/emoji/" >表情符号</a></li>
                
                
                <li><a href="/docs/reference/symbols/symbol/" >符号</a></li>
                
              </ul>
              
            </li>
            
            
            <li>
              <a href="/docs/reference/layout/" >布局</a>
              
              <button><img alt="Expand" src="/assets/icons/16-arrow-right.svg" width="16" height="16"></button>
              <ul>
                
                
                <li><a href="/docs/reference/layout/align/" >Align</a></li>
                
                
                <li><a href="/docs/reference/layout/alignment/" >Alignment</a></li>
                
                
                <li><a href="/docs/reference/layout/angle/" >Angle</a></li>
                
                
                <li><a href="/docs/reference/layout/block/" >Block</a></li>
                
                
                <li><a href="/docs/reference/layout/box/" >Box</a></li>
                
                
                <li><a href="/docs/reference/layout/colbreak/" >Column Break</a></li>
                
                
                <li><a href="/docs/reference/layout/columns/" >Columns</a></li>
                
                
                <li><a href="/docs/reference/layout/direction/" >Direction</a></li>
                
                
                <li><a href="/docs/reference/layout/fraction/" >Fraction</a></li>
                
                
                <li><a href="/docs/reference/layout/grid/" >Grid</a></li>
                
                
                <li><a href="/docs/reference/layout/hide/" >Hide</a></li>
                
                
                <li><a href="/docs/reference/layout/layout/" >Layout</a></li>
                
                
                <li><a href="/docs/reference/layout/length/" >Length</a></li>
                
                
                <li><a href="/docs/reference/layout/measure/" >Measure</a></li>
                
                
                <li><a href="/docs/reference/layout/move/" >Move</a></li>
                
                
                <li><a href="/docs/reference/layout/pad/" >Padding</a></li>
                
                
                <li><a href="/docs/reference/layout/page/" >Page</a></li>
                
                
                <li><a href="/docs/reference/layout/pagebreak/" >Page Break</a></li>
                
                
                <li><a href="/docs/reference/layout/place/" >Place</a></li>
                
                
                <li><a href="/docs/reference/layout/ratio/" >Ratio</a></li>
                
                
                <li><a href="/docs/reference/layout/relative/" >Relative Length</a></li>
                
                
                <li><a href="/docs/reference/layout/repeat/" >Repeat</a></li>
                
                
                <li><a href="/docs/reference/layout/rotate/" >Rotate</a></li>
                
                
                <li><a href="/docs/reference/layout/scale/" >Scale</a></li>
                
                
                <li><a href="/docs/reference/layout/h/" >Spacing (H)</a></li>
                
                
                <li><a href="/docs/reference/layout/v/" >Spacing (V)</a></li>
                
                
                <li><a href="/docs/reference/layout/stack/" >Stack</a></li>
                
              </ul>
              
            </li>
            
            
            <li>
              <a href="/docs/reference/visualize/" >可视化</a>
              
              <button><img alt="Expand" src="/assets/icons/16-arrow-right.svg" width="16" height="16"></button>
              <ul>
                
                
                <li><a href="/docs/reference/visualize/circle/" >Circle</a></li>
                
                
                <li><a href="/docs/reference/visualize/color/" >Color</a></li>
                
                
                <li><a href="/docs/reference/visualize/ellipse/" >Ellipse</a></li>
                
                
                <li><a href="/docs/reference/visualize/gradient/" >Gradient</a></li>
                
                
                <li><a href="/docs/reference/visualize/image/" >Image</a></li>
                
                
                <li><a href="/docs/reference/visualize/line/" >Line</a></li>
                
                
                <li><a href="/docs/reference/visualize/path/" >Path</a></li>
                
                
                <li><a href="/docs/reference/visualize/pattern/" >Pattern</a></li>
                
                
                <li><a href="/docs/reference/visualize/polygon/" >Polygon</a></li>
                
                
                <li><a href="/docs/reference/visualize/rect/" >Rectangle</a></li>
                
                
                <li><a href="/docs/reference/visualize/square/" >Square</a></li>
                
                
                <li><a href="/docs/reference/visualize/stroke/" >Stroke</a></li>
                
              </ul>
              
            </li>
            
            
            <li>
              <a href="/docs/reference/introspection/" >内省</a>
              
              <button><img alt="Expand" src="/assets/icons/16-arrow-right.svg" width="16" height="16"></button>
              <ul>
                
                
                <li><a href="/docs/reference/introspection/counter/" >Counter</a></li>
                
                
                <li><a href="/docs/reference/introspection/locate/" >Locate</a></li>
                
                
                <li><a href="/docs/reference/introspection/location/" >Location</a></li>
                
                
                <li><a href="/docs/reference/introspection/metadata/" >Metadata</a></li>
                
                
                <li><a href="/docs/reference/introspection/query/" >Query</a></li>
                
                
                <li><a href="/docs/reference/introspection/state/" >State</a></li>
                
              </ul>
              
            </li>
            
            
            <li>
              <a href="/docs/reference/data-loading/" >数据加载</a>
              
              <button><img alt="Expand" src="/assets/icons/16-arrow-right.svg" width="16" height="16"></button>
              <ul>
                
                
                <li><a href="/docs/reference/data-loading/cbor/" >CBOR</a></li>
                
                
                <li><a href="/docs/reference/data-loading/csv/" >CSV</a></li>
                
                
                <li><a href="/docs/reference/data-loading/json/" >JSON</a></li>
                
                
                <li><a href="/docs/reference/data-loading/read/" >Read</a></li>
                
                
                <li><a href="/docs/reference/data-loading/toml/" >TOML</a></li>
                
                
                <li><a href="/docs/reference/data-loading/xml/" >XML</a></li>
                
                
                <li><a href="/docs/reference/data-loading/yaml/" >YAML</a></li>
                
              </ul>
              
            </li>
            
          </ul>
          
        </li>
        
        
        <li>
          <a href="/docs/guides/" >Guides</a>
          
          <button><img alt="Expand" src="/assets/icons/16-arrow-right.svg" width="16" height="16"></button>
          <ul>
            
            
            <li>
              <a href="/docs/guides/guide-for-latex-users/" >Guide for LaTeX users</a>
              
            </li>
            
            
            <li>
              <a href="/docs/guides/page-setup-guide/" >Page setup guide</a>
              
            </li>
            
            
            <li>
              <a href="/docs/guides/table-guide/" >Table guide</a>
              
            </li>
            
          </ul>
          
        </li>
        
        
        <li>
          <a href="/docs/packages/" >Packages</a>
          
        </li>
        
        
        <li>
          <a href="/docs/changelog/" >Changelog</a>
          
        </li>
        
        
        <li>
          <a href="/docs/roadmap/" >Roadmap</a>
          
        </li>
        
        
        <li>
          <a href="/docs/community/" >Community</a>
          
        </li>
        
        
        <li>
          <a href="/docs/glossary/" >用語集</a>
          
        </li>
        
      </ul>

    </nav>
    <main>
      <ul class="breadcrumbs" aria-label="Breadcrumbs">
        <li class="root"><a href="/docs/"><img src="/assets/icons/16-docs-dark.svg" alt="Docs" width="16"
              height="16"></a></li>

        
        <li aria-hidden="true"><img src="/assets/icons/16-arrow-right.svg" width="16" height="16" alt=""></li>
        <li><a href="/docs/reference/">リファレンス</a></li>
        
        <li aria-hidden="true"><img src="/assets/icons/16-arrow-right.svg" width="16" height="16" alt=""></li>
        <li><a href="/docs/reference/scripting/">Scripting</a></li>
        
      </ul>

      

<h1>Scripting</h1>
<p>Typst embeds a powerful scripting language. You can automate your documents and
create more sophisticated styles with code. Below is an overview over the
scripting concepts.</p>
<h2 id="expressions">Expressions</h2>
<p>In Typst, markup and code are fused into one. All but the most common elements
are created with <em>functions.</em> To make this as convenient as possible, Typst
provides compact syntax to embed a code expression into markup: An expression is
introduced with a hash (<code>#</code>) and normal markup parsing resumes after the
expression is finished. If a character would continue the expression but should
be interpreted as text, the expression can forcibly be ended with a semicolon
(<code>;</code>).</p>
<div class="previewed-code"><pre><code><span class="typ-func">#</span><span class="typ-func">emph</span><span class="typ-punct">[</span>Hello<span class="typ-punct">]</span> <span class="typ-escape">\</span>
<span class="typ-pol">#</span><span class="typ-pol">emoji</span><span class="typ-punct">.</span><span class="typ-pol">face</span> <span class="typ-escape">\</span>
<span class="typ-str">#</span><span class="typ-str">&quot;hello&quot;</span><span class="typ-punct">.</span><span class="typ-func">len</span><span class="typ-punct">(</span><span class="typ-punct">)</span>
</code></pre><div class="preview"><img src="/assets/docs/f225eedcb810ced31df3dfe3b3e7dda6.png" alt="Preview" width="480" height="190"/></div></div>
<p>The example above shows a few of the available expressions, including
<a href="/docs/reference/foundations/function/">function calls</a>, <a href="/docs/reference/scripting/#fields">field accesses</a>, and
<a href="/docs/reference/scripting/#methods">method calls</a>. More kinds of expressions are
discussed in the remainder of this chapter. A few kinds of expressions are not
compatible with the hash syntax (e.g. binary operator expressions). To embed
these into markup, you can use parentheses, as in <code><span class="typ-punct">#</span><span class="typ-punct">(</span><span class="typ-num">1</span> <span class="typ-op">+</span> <span class="typ-num">2</span><span class="typ-punct">)</span></code>.</p>
<h2 id="blocks">Blocks</h2>
<p>To structure your code and embed markup into it, Typst provides two kinds of
<em>blocks:</em></p>
<ul>
<li>
<p><strong>Code block:</strong> <code><span class="typ-punct">{</span> <span class="typ-key">let</span> x <span class="typ-op">=</span> <span class="typ-num">1</span><span class="typ-punct">;</span> x <span class="typ-op">+</span> <span class="typ-num">2</span> <span class="typ-punct">}</span></code> <br />
When writing code, you'll probably want to split up your computation into
multiple statements, create some intermediate variables and so on. Code blocks
let you write multiple expressions where one is expected. The individual
expressions in a code block should be separated by line breaks or semicolons.
The output values of the individual expressions in a code block are joined to
determine the block's value. Expressions without useful output, like <code><span class="typ-key">let</span></code>
bindings yield <code><span class="typ-key">none</span></code>, which can be joined with any value without effect.</p>
</li>
<li>
<p><strong>Content block:</strong> <code><span class="typ-punct">[</span><span class="typ-strong">*Hey*</span> there!<span class="typ-punct">]</span></code> <br />
With content blocks, you can handle markup/content as a programmatic value,
store it in variables and pass it to <a href="/docs/reference/foundations/function/">functions</a>. Content
blocks are delimited by square brackets and can contain arbitrary markup. A
content block results in a value of type <a href="/docs/reference/foundations/content/" title="content">content</a>. An arbitrary number of
content blocks can be passed as trailing arguments to functions. That is,
<code><span class="typ-func">list</span><span class="typ-punct">(</span><span class="typ-punct">[</span>A<span class="typ-punct">]</span><span class="typ-punct">,</span> <span class="typ-punct">[</span>B<span class="typ-punct">]</span><span class="typ-punct">)</span></code> is equivalent to <code><span class="typ-func">list</span><span class="typ-punct">[</span>A<span class="typ-punct">]</span><span class="typ-punct">[</span>B<span class="typ-punct">]</span></code>.</p>
</li>
</ul>
<p>Content and code blocks can be nested arbitrarily. In the example below,
<code><span class="typ-punct">[</span>hello <span class="typ-punct">]</span></code> is joined with the output of  <code>a <span class="typ-op">+</span> <span class="typ-punct">[</span> the <span class="typ-punct">]</span> <span class="typ-op">+</span> b</code> yielding
<code><span class="typ-punct">[</span>hello from the <span class="typ-strong">*world*</span><span class="typ-punct">]</span></code>.</p>
<div class="previewed-code"><pre><code><span class="typ-punct">#</span><span class="typ-punct">{</span>
  <span class="typ-key">let</span> a <span class="typ-op">=</span> <span class="typ-punct">[</span>from<span class="typ-punct">]</span>
  <span class="typ-key">let</span> b <span class="typ-op">=</span> <span class="typ-punct">[</span><span class="typ-strong">*world*</span><span class="typ-punct">]</span>
  <span class="typ-punct">[</span>hello <span class="typ-punct">]</span>
  a <span class="typ-op">+</span> <span class="typ-punct">[</span> the <span class="typ-punct">]</span> <span class="typ-op">+</span> b
<span class="typ-punct">}</span>
</code></pre><div class="preview"><img src="/assets/docs/7fb6c8bb26570187a3d8f3a560c32d60.png" alt="Preview" width="480" height="190"/></div></div>
<h2 id="bindings">Bindings and Destructuring</h2>
<p>As already demonstrated above, variables can be defined with <code><span class="typ-key">let</span></code> bindings.
The variable is assigned the value of the expression that follows the <code>=</code> sign.
The assignment of a value is optional, if no value is assigned, the variable
will be initialized as <code><span class="typ-key">none</span></code>. The <code><span class="typ-key">let</span></code> keyword can also be used to create
a <a href="/docs/reference/foundations/function/#defining-functions">custom named function</a>. Let bindings can be
accessed for the rest of the containing block or document.</p>
<div class="previewed-code"><pre><code><span class="typ-key">#</span><span class="typ-key">let</span> name <span class="typ-op">=</span> <span class="typ-str">&quot;Typst&quot;</span>
This is <span class="typ-pol">#</span><span class="typ-pol">name</span>&#39;s documentation.
It explains <span class="typ-pol">#</span><span class="typ-pol">name</span>.

<span class="typ-key">#</span><span class="typ-key">let</span> <span class="typ-func">add</span><span class="typ-punct">(</span>x<span class="typ-punct">,</span> y<span class="typ-punct">)</span> <span class="typ-op">=</span> x <span class="typ-op">+</span> y
Sum is <span class="typ-func">#</span><span class="typ-func">add</span><span class="typ-punct">(</span><span class="typ-num">2</span><span class="typ-punct">,</span> <span class="typ-num">3</span><span class="typ-punct">)</span>.
</code></pre><div class="preview"><img src="/assets/docs/06bda5b4dc5513a30aebfe2c273ada2a.png" alt="Preview" width="480" height="190"/></div></div>
<p>Let bindings can also be used to destructure <a href="/docs/reference/foundations/array/">arrays</a> and
<a href="/docs/reference/foundations/dictionary/">dictionaries</a>. In this case, the left-hand side of the
assignment should mirror an array or dictionary. The <code>..</code> operator can be used
once in the pattern to collect the remainder of the array's or dictionary's
items.</p>
<div class="previewed-code"><pre><code><span class="typ-key">#</span><span class="typ-key">let</span> <span class="typ-punct">(</span>x<span class="typ-punct">,</span> y<span class="typ-punct">)</span> <span class="typ-op">=</span> <span class="typ-punct">(</span><span class="typ-num">1</span><span class="typ-punct">,</span> <span class="typ-num">2</span><span class="typ-punct">)</span>
The coordinates are <span class="typ-pol">#</span><span class="typ-pol">x</span>, <span class="typ-pol">#</span><span class="typ-pol">y</span>.

<span class="typ-key">#</span><span class="typ-key">let</span> <span class="typ-punct">(</span>a<span class="typ-punct">,</span> <span class="typ-op">..</span><span class="typ-punct">,</span> b<span class="typ-punct">)</span> <span class="typ-op">=</span> <span class="typ-punct">(</span><span class="typ-num">1</span><span class="typ-punct">,</span> <span class="typ-num">2</span><span class="typ-punct">,</span> <span class="typ-num">3</span><span class="typ-punct">,</span> <span class="typ-num">4</span><span class="typ-punct">)</span>
The first element is <span class="typ-pol">#</span><span class="typ-pol">a</span>.
The last element is <span class="typ-pol">#</span><span class="typ-pol">b</span>.

<span class="typ-key">#</span><span class="typ-key">let</span> books <span class="typ-op">=</span> <span class="typ-punct">(</span>
  Shakespeare<span class="typ-punct">:</span> <span class="typ-str">&quot;Hamlet&quot;</span><span class="typ-punct">,</span>
  Homer<span class="typ-punct">:</span> <span class="typ-str">&quot;The Odyssey&quot;</span><span class="typ-punct">,</span>
  Austen<span class="typ-punct">:</span> <span class="typ-str">&quot;Persuasion&quot;</span><span class="typ-punct">,</span>
<span class="typ-punct">)</span>

<span class="typ-key">#</span><span class="typ-key">let</span> <span class="typ-punct">(</span>Austen<span class="typ-punct">,</span><span class="typ-punct">)</span> <span class="typ-op">=</span> books
Austen wrote <span class="typ-pol">#</span><span class="typ-pol">Austen</span>.

<span class="typ-key">#</span><span class="typ-key">let</span> <span class="typ-punct">(</span>Homer<span class="typ-punct">:</span> h<span class="typ-punct">)</span> <span class="typ-op">=</span> books
Homer wrote <span class="typ-pol">#</span><span class="typ-pol">h</span>.

<span class="typ-key">#</span><span class="typ-key">let</span> <span class="typ-punct">(</span>Homer<span class="typ-punct">,</span> <span class="typ-op">..</span>other<span class="typ-punct">)</span> <span class="typ-op">=</span> books
<span class="typ-key">#</span><span class="typ-key">for</span> <span class="typ-punct">(</span>author<span class="typ-punct">,</span> title<span class="typ-punct">)</span> <span class="typ-key">in</span> other <span class="typ-punct">[</span>
  <span class="typ-pol">#</span><span class="typ-pol">author</span> wrote <span class="typ-pol">#</span><span class="typ-pol">title</span>.
<span class="typ-punct">]</span>
</code></pre><div class="preview"><img src="/assets/docs/e8d5f46bdffe454e3c436c807600b1cd.png" alt="Preview" width="480" height="190"/></div></div>
<p>You can use the underscore to discard elements in a destructuring pattern:</p>
<div class="previewed-code"><pre><code><span class="typ-key">#</span><span class="typ-key">let</span> <span class="typ-punct">(</span>_<span class="typ-punct">,</span> y<span class="typ-punct">,</span> _<span class="typ-punct">)</span> <span class="typ-op">=</span> <span class="typ-punct">(</span><span class="typ-num">1</span><span class="typ-punct">,</span> <span class="typ-num">2</span><span class="typ-punct">,</span> <span class="typ-num">3</span><span class="typ-punct">)</span>
The y coordinate is <span class="typ-pol">#</span><span class="typ-pol">y</span>.
</code></pre><div class="preview"><img src="/assets/docs/2e4ee4d0fbe81f88bae2db44bb024d07.png" alt="Preview" width="480" height="190"/></div></div>
<p>Destructuring also work in argument lists of functions ...</p>
<div class="previewed-code"><pre><code><span class="typ-key">#</span><span class="typ-key">let</span> left <span class="typ-op">=</span> <span class="typ-punct">(</span><span class="typ-num">2</span><span class="typ-punct">,</span> <span class="typ-num">4</span><span class="typ-punct">,</span> <span class="typ-num">5</span><span class="typ-punct">)</span>
<span class="typ-key">#</span><span class="typ-key">let</span> right <span class="typ-op">=</span> <span class="typ-punct">(</span><span class="typ-num">3</span><span class="typ-punct">,</span> <span class="typ-num">2</span><span class="typ-punct">,</span> <span class="typ-num">6</span><span class="typ-punct">)</span>
<span class="typ-pol">#</span><span class="typ-pol">left</span><span class="typ-punct">.</span><span class="typ-func">zip</span><span class="typ-punct">(</span>right<span class="typ-punct">)</span><span class="typ-punct">.</span><span class="typ-func">map</span><span class="typ-punct">(</span>
  <span class="typ-punct">(</span><span class="typ-punct">(</span>a<span class="typ-punct">,</span>b<span class="typ-punct">)</span><span class="typ-punct">)</span> <span class="typ-op">=&gt;</span> a <span class="typ-op">+</span> b
<span class="typ-punct">)</span>
</code></pre><div class="preview"><img src="/assets/docs/6e18caba37cf9be991248e7d3aab314d.png" alt="Preview" width="480" height="190"/></div></div>
<p>... and on the left-hand side of normal assignments. This can be useful to
swap variables among other things.</p>
<div class="previewed-code"><pre><code><span class="typ-punct">#</span><span class="typ-punct">{</span>
  <span class="typ-key">let</span> a <span class="typ-op">=</span> <span class="typ-num">1</span>
  <span class="typ-key">let</span> b <span class="typ-op">=</span> <span class="typ-num">2</span>
  <span class="typ-punct">(</span>a<span class="typ-punct">,</span> b<span class="typ-punct">)</span> <span class="typ-op">=</span> <span class="typ-punct">(</span>b<span class="typ-punct">,</span> a<span class="typ-punct">)</span>
  <span class="typ-punct">[</span>a = <span class="typ-pol">#</span><span class="typ-pol">a</span>, b = <span class="typ-pol">#</span><span class="typ-pol">b</span><span class="typ-punct">]</span>
<span class="typ-punct">}</span>
</code></pre><div class="preview"><img src="/assets/docs/4aa3ec10ee748ed1116c7eae1e4df9e2.png" alt="Preview" width="480" height="190"/></div></div>
<h2 id="conditionals">Conditionals</h2>
<p>With a conditional, you can display or compute different things depending on
whether some condition is fulfilled. Typst supports <code><span class="typ-key">if</span></code>, <code>else <span class="typ-key">if</span></code> and
<code>else</code> expression. When the condition evaluates to <code><span class="typ-key">true</span></code>, the conditional
yields the value resulting from the if's body, otherwise yields the value
resulting from the else's body.</p>
<div class="previewed-code"><pre><code><span class="typ-key">#</span><span class="typ-key">if</span> <span class="typ-num">1</span> <span class="typ-op">&lt;</span> <span class="typ-num">2</span> <span class="typ-punct">[</span>
  This is shown
<span class="typ-punct">]</span> <span class="typ-key">else</span> <span class="typ-punct">[</span>
  This is not.
<span class="typ-punct">]</span>
</code></pre><div class="preview"><img src="/assets/docs/e76379a33a676c5b7d921a6e96a07127.png" alt="Preview" width="480" height="190"/></div></div>
<p>Each branch can have a code or content block as its body.</p>
<ul>
<li><code><span class="typ-key">if</span> condition <span class="typ-punct">{</span>..<span class="typ-punct">}</span></code></li>
<li><code><span class="typ-key">if</span> condition <span class="typ-punct">[</span>..<span class="typ-punct">]</span></code></li>
<li><code><span class="typ-key">if</span> condition <span class="typ-punct">[</span>..<span class="typ-punct">]</span> <span class="typ-key">else</span> <span class="typ-punct">{</span>..<span class="typ-punct">}</span></code></li>
<li><code><span class="typ-key">if</span> condition <span class="typ-punct">[</span>..<span class="typ-punct">]</span> <span class="typ-key">else</span> <span class="typ-key">if</span> condition <span class="typ-punct">{</span>..<span class="typ-punct">}</span> <span class="typ-key">else</span> <span class="typ-punct">[</span>..<span class="typ-punct">]</span></code></li>
</ul>
<h2 id="loops">Loops</h2>
<p>With loops, you can repeat content or compute something iteratively. Typst
supports two types of loops: <code><span class="typ-key">for</span></code> and <code><span class="typ-key">while</span></code> loops. The former iterate
over a specified collection whereas the latter iterate as long as a condition
stays fulfilled. Just like blocks, loops <em>join</em> the results from each iteration
into one value.</p>
<p>In the example below, the three sentences created by the for loop join together
into a single content value and the length-1 arrays in the while loop join
together into one larger array.</p>
<div class="previewed-code"><pre><code><span class="typ-key">#</span><span class="typ-key">for</span> c <span class="typ-key">in</span> <span class="typ-str">&quot;ABC&quot;</span> <span class="typ-punct">[</span>
  <span class="typ-pol">#</span><span class="typ-pol">c</span> is a letter.
<span class="typ-punct">]</span>

<span class="typ-key">#</span><span class="typ-key">let</span> n <span class="typ-op">=</span> <span class="typ-num">2</span>
<span class="typ-key">#</span><span class="typ-key">while</span> n <span class="typ-op">&lt;</span> <span class="typ-num">10</span> <span class="typ-punct">{</span>
  n <span class="typ-op">=</span> <span class="typ-punct">(</span>n <span class="typ-op">*</span> <span class="typ-num">2</span><span class="typ-punct">)</span> <span class="typ-op">-</span> <span class="typ-num">1</span>
  <span class="typ-punct">(</span>n<span class="typ-punct">,</span><span class="typ-punct">)</span>
<span class="typ-punct">}</span>
</code></pre><div class="preview"><img src="/assets/docs/339e68e646d2611ea2860b332106e017.png" alt="Preview" width="480" height="190"/></div></div>
<p>For loops can iterate over a variety of collections:</p>
<ul>
<li>
<p><code><span class="typ-key">for</span> value <span class="typ-key">in</span> array <span class="typ-punct">{</span>..<span class="typ-punct">}</span></code> <br />
Iterates over the items in the <a href="/docs/reference/foundations/array/" title="array">array</a>. The destructuring syntax described in
<a href="/docs/reference/scripting/#bindings">Let binding</a> can also be used here.</p>
</li>
<li>
<p><code><span class="typ-key">for</span> pair <span class="typ-key">in</span> dict <span class="typ-punct">{</span>..<span class="typ-punct">}</span></code> <br />
Iterates over the key-value pairs of the <a href="/docs/reference/foundations/dictionary/" title="dictionary">dictionary</a>. The pairs can also be
destructured by using <code><span class="typ-key">for</span> <span class="typ-punct">(</span>key<span class="typ-punct">,</span> value<span class="typ-punct">)</span> <span class="typ-key">in</span> dict <span class="typ-punct">{</span>..<span class="typ-punct">}</span></code>. It is more efficient
than <code><span class="typ-key">for</span> pair <span class="typ-key">in</span> dict<span class="typ-punct">.</span><span class="typ-func">pairs</span><span class="typ-punct">(</span><span class="typ-punct">)</span> <span class="typ-punct">{</span>..<span class="typ-punct">}</span></code> because it doesn't create a temporary
array of all key-value pairs.</p>
</li>
<li>
<p><code><span class="typ-key">for</span> letter <span class="typ-key">in</span> <span class="typ-str">&quot;abc&quot;</span> <span class="typ-punct">{</span>..<span class="typ-punct">}</span></code> <br />
Iterates over the characters of the <a href="/docs/reference/foundations/str/">string</a>. Technically, it iterates
over the grapheme clusters of the string. Most of the time, a grapheme cluster
is just a single codepoint. However, a grapheme cluster could contain multiple
codepoints, like a flag emoji.</p>
</li>
<li>
<p><code><span class="typ-key">for</span> byte <span class="typ-key">in</span> <span class="typ-func">bytes</span><span class="typ-punct">(</span><span class="typ-str">&quot;😀&quot;</span><span class="typ-punct">)</span> <span class="typ-punct">{</span>..<span class="typ-punct">}</span></code> <br />
Iterates over the <a href="/docs/reference/foundations/bytes/" title="bytes">bytes</a>, which can be converted from a <a href="/docs/reference/foundations/str/">string</a> or
<a href="/docs/reference/data-loading/read/" title="read">read</a> from a file without encoding. Each byte value is an <a href="/docs/reference/foundations/int/">integer</a>
between <code><span class="typ-num">0</span></code> and <code><span class="typ-num">255</span></code>.</p>
</li>
</ul>
<p>To control the execution of the loop, Typst provides the <code><span class="typ-key">break</span></code> and
<code><span class="typ-key">continue</span></code> statements. The former performs an early exit from the loop while
the latter skips ahead to the next iteration of the loop.</p>
<div class="previewed-code"><pre><code><span class="typ-key">#</span><span class="typ-key">for</span> letter <span class="typ-key">in</span> <span class="typ-str">&quot;abc nope&quot;</span> <span class="typ-punct">{</span>
  <span class="typ-key">if</span> letter <span class="typ-op">==</span> <span class="typ-str">&quot; &quot;</span> <span class="typ-punct">{</span>
    <span class="typ-key">break</span>
  <span class="typ-punct">}</span>

  letter
<span class="typ-punct">}</span>
</code></pre><div class="preview"><img src="/assets/docs/842d9007ec92471251bbf3dbd7553f36.png" alt="Preview" width="480" height="190"/></div></div>
<p>The body of a loop can be a code or content block:</p>
<ul>
<li><code><span class="typ-key">for</span> .. in collection <span class="typ-punct">{</span>..<span class="typ-punct">}</span></code></li>
<li><code><span class="typ-key">for</span> .. in collection <span class="typ-punct">[</span>..<span class="typ-punct">]</span></code></li>
<li><code><span class="typ-key">while</span> condition <span class="typ-punct">{</span>..<span class="typ-punct">}</span></code></li>
<li><code><span class="typ-key">while</span> condition <span class="typ-punct">[</span>..<span class="typ-punct">]</span></code></li>
</ul>
<h2 id="fields">Fields</h2>
<p>You can use <em>dot notation</em> to access fields on a value. The value in question
can be either:</p>
<ul>
<li>a <a href="/docs/reference/foundations/dictionary/" title="dictionary">dictionary</a> that has the specified key,</li>
<li>a <a href="/docs/reference/symbols/symbol/" title="symbol">symbol</a> that has the specified modifier,</li>
<li>a <a href="/docs/reference/foundations/module/" title="module">module</a> containing the specified definition,</li>
<li><a href="/docs/reference/foundations/content/" title="content">content</a> consisting of an element that has the specified field. The
available fields match the arguments of the
<a href="/docs/reference/foundations/function/#element-functions">element function</a> that were given when the
element was constructed.</li>
</ul>
<div class="previewed-code"><pre><code><span class="typ-key">#</span><span class="typ-key">let</span> dict <span class="typ-op">=</span> <span class="typ-punct">(</span>greet<span class="typ-punct">:</span> <span class="typ-str">&quot;Hello&quot;</span><span class="typ-punct">)</span>
<span class="typ-pol">#</span><span class="typ-pol">dict</span><span class="typ-punct">.</span><span class="typ-pol">greet</span> <span class="typ-escape">\</span>
<span class="typ-pol">#</span><span class="typ-pol">emoji</span><span class="typ-punct">.</span><span class="typ-pol">face</span>

<span class="typ-key">#</span><span class="typ-key">let</span> it <span class="typ-op">=</span> <span class="typ-punct">[</span><span class="typ-heading">= Heading</span><span class="typ-punct">]</span>
<span class="typ-pol">#</span><span class="typ-pol">it</span><span class="typ-punct">.</span><span class="typ-pol">body</span> <span class="typ-escape">\</span>
<span class="typ-pol">#</span><span class="typ-pol">it</span><span class="typ-punct">.</span><span class="typ-pol">depth</span>
</code></pre><div class="preview"><img src="/assets/docs/7f2a9782e9278f8564c0e29aa1fd5443.png" alt="Preview" width="480" height="190"/></div></div>
<h2 id="methods">Methods</h2>
<p>A <em>method call</em> is a convenient way to call a function that is scoped to a
value's <a href="/docs/reference/foundations/type/" title="type">type</a>. For example, we can call the <a href="/docs/reference/foundations/str/#definitions-len"><code>str.len</code></a> function in
the following two equivalent ways:</p>
<div class="previewed-code"><pre><code><span class="typ-pol">#</span><span class="typ-pol">str</span><span class="typ-punct">.</span><span class="typ-func">len</span><span class="typ-punct">(</span><span class="typ-str">&quot;abc&quot;</span><span class="typ-punct">)</span> is the same as
<span class="typ-str">#</span><span class="typ-str">&quot;abc&quot;</span><span class="typ-punct">.</span><span class="typ-func">len</span><span class="typ-punct">(</span><span class="typ-punct">)</span>
</code></pre><div class="preview"><img src="/assets/docs/68a97a415ea8fd416893c9f6da91d031.png" alt="Preview" width="480" height="190"/></div></div>
<p>The structure of a method call is <code>value<span class="typ-punct">.</span><span class="typ-func">method</span><span class="typ-punct">(</span><span class="typ-op">..</span>args<span class="typ-punct">)</span></code> and its equivalent
full function call is <code><span class="typ-func">type</span><span class="typ-punct">(</span>value<span class="typ-punct">)</span><span class="typ-punct">.</span><span class="typ-func">method</span><span class="typ-punct">(</span>value<span class="typ-punct">,</span> <span class="typ-op">..</span>args<span class="typ-punct">)</span></code>. The documentation
of each type lists it's scoped functions. You cannot currently define your own
methods.</p>
<div class="previewed-code"><pre><code><span class="typ-key">#</span><span class="typ-key">let</span> array <span class="typ-op">=</span> <span class="typ-punct">(</span><span class="typ-num">1</span><span class="typ-punct">,</span> <span class="typ-num">2</span><span class="typ-punct">,</span> <span class="typ-num">3</span><span class="typ-punct">,</span> <span class="typ-num">4</span><span class="typ-punct">)</span>
<span class="typ-pol">#</span><span class="typ-pol">array</span><span class="typ-punct">.</span><span class="typ-func">pop</span><span class="typ-punct">(</span><span class="typ-punct">)</span> <span class="typ-escape">\</span>
<span class="typ-pol">#</span><span class="typ-pol">array</span><span class="typ-punct">.</span><span class="typ-func">len</span><span class="typ-punct">(</span><span class="typ-punct">)</span> <span class="typ-escape">\</span>

<span class="typ-punct">#</span><span class="typ-punct">(</span><span class="typ-str">&quot;a, b, c&quot;</span>
    <span class="typ-punct">.</span><span class="typ-func">split</span><span class="typ-punct">(</span><span class="typ-str">&quot;, &quot;</span><span class="typ-punct">)</span>
    <span class="typ-punct">.</span><span class="typ-func">join</span><span class="typ-punct">[</span> <span class="typ-escape">---</span> <span class="typ-punct">]</span><span class="typ-punct">)</span>

<span class="typ-str">#</span><span class="typ-str">&quot;abc&quot;</span><span class="typ-punct">.</span><span class="typ-func">len</span><span class="typ-punct">(</span><span class="typ-punct">)</span> is the same as
<span class="typ-pol">#</span><span class="typ-pol">str</span><span class="typ-punct">.</span><span class="typ-func">len</span><span class="typ-punct">(</span><span class="typ-str">&quot;abc&quot;</span><span class="typ-punct">)</span>
</code></pre><div class="preview"><img src="/assets/docs/19fb3dfca4e9a8903455b87821619bc8.png" alt="Preview" width="480" height="190"/></div></div>
<p>There are a few special functions that modify the value they are called on (e.g.
<a href="/docs/reference/foundations/array/#definitions-push"><code>array.push</code></a>). These functions <em>must</em> be called in method form.
In some cases, when the method is only called for its side effect, its return
value should be ignored (and not participate in joining). The canonical way to
discard a value is with a let binding: <code><span class="typ-key">let</span> _ <span class="typ-op">=</span> array<span class="typ-punct">.</span><span class="typ-func">remove</span><span class="typ-punct">(</span><span class="typ-num">1</span><span class="typ-punct">)</span></code>.</p>
<h2 id="modules">Modules</h2>
<p>You can split up your Typst projects into multiple files called <em>modules.</em> A
module can refer to the content and definitions of another module in multiple
ways:</p>
<ul>
<li>
<p><strong>Including:</strong> <code><span class="typ-key">include</span> <span class="typ-str">&quot;bar.typ&quot;</span></code> <br />
Evaluates the file at the path <code>bar.typ</code> and returns the resulting <a href="/docs/reference/foundations/content/" title="content">content</a>.</p>
</li>
<li>
<p><strong>Import:</strong> <code><span class="typ-key">import</span> <span class="typ-str">&quot;bar.typ&quot;</span></code> <br />
Evaluates the file at the path <code>bar.typ</code> and inserts the resulting <a href="/docs/reference/foundations/module/" title="module">module</a>
into the current scope as <code>bar</code> (filename without extension). You can use the
<code>as</code> keyword to rename the imported module: <code><span class="typ-key">import</span> <span class="typ-str">&quot;bar.typ&quot;</span> <span class="typ-key">as</span> baz</code></p>
</li>
<li>
<p><strong>Import items:</strong> <code><span class="typ-key">import</span> <span class="typ-str">&quot;bar.typ&quot;</span><span class="typ-punct">:</span> a<span class="typ-punct">,</span> b</code> <br />
Evaluates the file at the path <code>bar.typ</code>, extracts the values of the variables
<code>a</code> and <code>b</code> (that need to be defined in <code>bar.typ</code>, e.g. through <code><span class="typ-key">let</span></code>
bindings) and defines them in the current file. Replacing <code>a, b</code> with <code>*</code>
loads all variables defined in a module. You can use the <code>as</code> keyword to
rename the individual items: <code><span class="typ-key">import</span> <span class="typ-str">&quot;bar.typ&quot;</span><span class="typ-punct">:</span> a <span class="typ-key">as</span> one<span class="typ-punct">,</span> b <span class="typ-key">as</span> two</code></p>
</li>
</ul>
<p>Instead of a path, you can also use a <a href="/docs/reference/foundations/module/">module value</a>, as shown in the
following example:</p>
<div class="previewed-code"><pre><code><span class="typ-key">#</span><span class="typ-key">import</span> emoji<span class="typ-punct">:</span> face
<span class="typ-pol">#</span><span class="typ-pol">face</span><span class="typ-punct">.</span><span class="typ-pol">grin</span>
</code></pre><div class="preview"><img src="/assets/docs/43014000497d459ced7b19ec99fd35ae.png" alt="Preview" width="480" height="190"/></div></div>
<h2 id="packages">Packages</h2>
<p>To reuse building blocks across projects, you can also create and import Typst
<em>packages.</em> A package import is specified as a triple of a namespace, a name,
and a version.</p>
<div class="previewed-code"><pre><code><span class="typ-key">#</span><span class="typ-key">import</span> <span class="typ-str">&quot;@preview/example:0.1.0&quot;</span><span class="typ-punct">:</span> add
<span class="typ-func">#</span><span class="typ-func">add</span><span class="typ-punct">(</span><span class="typ-num">2</span><span class="typ-punct">,</span> <span class="typ-num">7</span><span class="typ-punct">)</span>
</code></pre><div class="preview"><img src="/assets/docs/5611b1fc00245c60ed0fd4942d77dcf9.png" alt="Preview" width="480" height="190"/></div></div>
<p>The <code>preview</code> namespace contains packages shared by the community. You can find
all available community packages on <a href="https://typst.app/universe/">Typst Universe</a>.</p>
<p>If you are using Typst locally, you can also create your own system-local
packages. For more details on this, see the
<a href="https://github.com/typst/packages">package repository</a>.</p>
<h2 id="operators">Operators</h2>
<p>The following table lists all available unary and binary operators with effect,
arity (unary, binary) and precedence level (higher binds stronger).</p>
<table><thead><tr><th style="text-align: center">Operator</th><th>Effect</th><th style="text-align: center">Arity</th><th style="text-align: center">Precedence</th></tr></thead><tbody>
<tr><td style="text-align: center"><code><span class="typ-op">-</span></code></td><td>Negation</td><td style="text-align: center">Unary</td><td style="text-align: center">7</td></tr>
<tr><td style="text-align: center"><code><span class="typ-op">+</span></code></td><td>No effect (exists for symmetry)</td><td style="text-align: center">Unary</td><td style="text-align: center">7</td></tr>
<tr><td style="text-align: center"><code>*</code></td><td>Multiplication</td><td style="text-align: center">Binary</td><td style="text-align: center">6</td></tr>
<tr><td style="text-align: center"><code>/</code></td><td>Division</td><td style="text-align: center">Binary</td><td style="text-align: center">6</td></tr>
<tr><td style="text-align: center"><code><span class="typ-op">+</span></code></td><td>Addition</td><td style="text-align: center">Binary</td><td style="text-align: center">5</td></tr>
<tr><td style="text-align: center"><code><span class="typ-op">-</span></code></td><td>Subtraction</td><td style="text-align: center">Binary</td><td style="text-align: center">5</td></tr>
<tr><td style="text-align: center"><code>==</code></td><td>Check equality</td><td style="text-align: center">Binary</td><td style="text-align: center">4</td></tr>
<tr><td style="text-align: center"><code>!=</code></td><td>Check inequality</td><td style="text-align: center">Binary</td><td style="text-align: center">4</td></tr>
<tr><td style="text-align: center"><code>&lt;</code></td><td>Check less-than</td><td style="text-align: center">Binary</td><td style="text-align: center">4</td></tr>
<tr><td style="text-align: center"><code>&lt;=</code></td><td>Check less-than or equal</td><td style="text-align: center">Binary</td><td style="text-align: center">4</td></tr>
<tr><td style="text-align: center"><code>&gt;</code></td><td>Check greater-than</td><td style="text-align: center">Binary</td><td style="text-align: center">4</td></tr>
<tr><td style="text-align: center"><code>&gt;=</code></td><td>Check greater-than or equal</td><td style="text-align: center">Binary</td><td style="text-align: center">4</td></tr>
<tr><td style="text-align: center"><code>in</code></td><td>Check if in collection</td><td style="text-align: center">Binary</td><td style="text-align: center">4</td></tr>
<tr><td style="text-align: center"><code><span class="typ-key">not</span> <span class="typ-key">in</span></code></td><td>Check if not in collection</td><td style="text-align: center">Binary</td><td style="text-align: center">4</td></tr>
<tr><td style="text-align: center"><code><span class="typ-key">not</span></code></td><td>Logical &quot;not&quot;</td><td style="text-align: center">Unary</td><td style="text-align: center">3</td></tr>
<tr><td style="text-align: center"><code>and</code></td><td>Short-circuiting logical &quot;and&quot;</td><td style="text-align: center">Binary</td><td style="text-align: center">3</td></tr>
<tr><td style="text-align: center"><code>or</code></td><td>Short-circuiting logical &quot;or</td><td style="text-align: center">Binary</td><td style="text-align: center">2</td></tr>
<tr><td style="text-align: center"><code>=</code></td><td>Assignment</td><td style="text-align: center">Binary</td><td style="text-align: center">1</td></tr>
<tr><td style="text-align: center"><code>+=</code></td><td>Add-Assignment</td><td style="text-align: center">Binary</td><td style="text-align: center">1</td></tr>
<tr><td style="text-align: center"><code>-=</code></td><td>Subtraction-Assignment</td><td style="text-align: center">Binary</td><td style="text-align: center">1</td></tr>
<tr><td style="text-align: center"><code>*=</code></td><td>Multiplication-Assignment</td><td style="text-align: center">Binary</td><td style="text-align: center">1</td></tr>
<tr><td style="text-align: center"><code>/=</code></td><td>Division-Assignment</td><td style="text-align: center">Binary</td><td style="text-align: center">1</td></tr>
</tbody></table>



      
      <div class="page-end-buttons"><a href="/docs/reference/styling/" class="previous"><img
            src="/assets/icons/16-arrow-right.svg" alt="←">
          <div><span class="page-title">Styling</span><span class="hint">前に戻る</span></div>
        </a><a href="/docs/reference/context/" class="next"><img src="/assets/icons/16-arrow-right.svg" alt="→">
          <div><span class="page-title">コンテキスト</span><span class="hint">次に進む</span></div>
        </a></div>
      
    </main>

    
    <nav id="page-overview"><strong>目次</strong>
      <ul>
        
        <li data-assoc="expressions"><a href="#expressions">Expressions</a>
          <ul></ul>
        </li>
        
        <li data-assoc="blocks"><a href="#blocks">Blocks</a>
          <ul></ul>
        </li>
        
        <li data-assoc="bindings"><a href="#bindings">Bindings</a>
          <ul></ul>
        </li>
        
        <li data-assoc="conditionals"><a href="#conditionals">Conditionals</a>
          <ul></ul>
        </li>
        
        <li data-assoc="loops"><a href="#loops">Loops</a>
          <ul></ul>
        </li>
        
        <li data-assoc="fields"><a href="#fields">Fields</a>
          <ul></ul>
        </li>
        
        <li data-assoc="methods"><a href="#methods">Methods</a>
          <ul></ul>
        </li>
        
        <li data-assoc="modules"><a href="#modules">Modules</a>
          <ul></ul>
        </li>
        
        <li data-assoc="packages"><a href="#packages">Packages</a>
          <ul></ul>
        </li>
        
        <li data-assoc="operators"><a href="#operators">Operators</a>
          <ul></ul>
        </li>
        
      </ul>
    </nav>
    
  </div>
  <footer>
    <div>
      <ul>
        <li><a href="https://typst.app/">（公式）ホームページ</a></li>
        <li><a href="https://typst.app/docs/">（公式）ドキュメント（英語）</a></li>
        <li><a href="https://typst.app/universe/">（公式）拡張パッケージ・テンプレートの宇宙</a></li>
        <li><a href="https://typst.app/about/">（公式）Typstについて</a></li>
        <li><a href="https://typst.app/contact/">（公式）連絡先</a></li>
        <li><a href="https://typst.app/privacy/">（公式）プライバシーポリシー</a></li>
        <li><a href="https://typst.app/terms/">（公式）サービス規約</a></li>
        <li><a href="https://typst.app/legal/">（公式）免責事項</a></li>
      </ul>
    </div>
    <div>
      <ul>
        <li><a href="https://typst.app/tools/">（公式）ツール</a></li>
        <li><a href="https://typst.app/blog/">（公式）ブログ</a></li>
        <li><a href="https://twitter.com/typstapp/">（公式）Twitter</a></li>
        <li><a href="https://discord.gg/2uDybryKPe">（公式）Discord</a></li>
        <li><a rel="me" href="https://mastodon.social/@typst">（公式）Mastodon</a></li>
        <li><a href="https://www.linkedin.com/company/typst/">（公式）LinkedIn</a></li>
        <li><a href="https://instagram.com/typstapp/">（公式）Instagram</a></li>
        <li><a href="https://github.com/typst/">（公式）GitHub</a></li>
      </ul>
    </div>
    <div>
      <p>Made in Berlin</p>
      <p>Translated by <a href="https://github.com/typst-jp">Typst Japan Community</a></p>
    </div>
  </footer>
  <script src="/scripts/fuse.basic.min.js"></script>
  <script src="/scripts/docs.js?bust=20230913"></script>
  <script src="/scripts/analytics.js" defer></script>
</body>

</html>